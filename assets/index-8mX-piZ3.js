import{d as S,r as x,m as v,c as h,b as t,t as d,j as l,E as c,a7 as T,A as g,F as $,i as E,n as f,B as L,l as o,M as N,am as R,C as _,an as A,ao as y,ap as j,aq as q,u as z,f as u,_ as H}from"./index-BFAmLiXm.js";const I={class:"page-container"},Q={class:"env-toolbar"},U={class:"stat-group"},W={class:"stat-item"},G={class:"value danger"},J={class:"stat-item"},K={class:"value warning"},P={class:"stat-item"},X={class:"value danger"},Y={class:"search-box"},Z={class:"env-grid-container"},tt={class:"env-grid"},st=["onClick"],et={class:"unit-header"},at={class:"room-name"},lt={class:"status-badge"},nt={class:"unit-body"},ot={class:"metric-row"},rt={class:"metric"},it={class:"metric"},dt={class:"val"},ct={class:"alarm-indicators"},ut={class:"unit-footer"},_t={class:"gas-info"},mt={class:"gas-info"},pt=S({__name:"index",setup(vt){const F=z(),p=x(""),m=x((()=>{const s=[],e=["科技园","总部","生产区","数据中心","物流园"];for(let r=1;r<=100;r++){const n=Math.random()>.9,i=Math.random()>.98,a=Math.random()>.99,k=Math.random()>.95;s.push({id:`room-${r}`,name:`${e[r%5]} #${Math.ceil(r/5)}配电室`,temp:n?(35+Math.random()*10).toFixed(1):(22+Math.random()*5).toFixed(1),humidity:(40+Math.random()*20).toFixed(0),smokeAlarm:a,waterAlarm:i,doorOpen:k,sf6:Math.floor(Math.random()*50),o2:(20.9-Math.random()*.5).toFixed(1)})}return s.sort((r,n)=>{const i=(r.smokeAlarm?10:0)+(r.waterAlarm?5:0)+(parseFloat(r.temp)>35?2:0);return(n.smokeAlarm?10:0)+(n.waterAlarm?5:0)+(parseFloat(n.temp)>35?2:0)-i})})()),b=v(()=>m.value.filter(s=>parseFloat(s.temp)>35).length),w=v(()=>m.value.filter(s=>s.waterAlarm).length),M=v(()=>m.value.filter(s=>s.doorOpen).length),C=v(()=>p.value?m.value.filter(s=>s.name.includes(p.value)):m.value),B=s=>s.smokeAlarm||s.waterAlarm?"status-critical":parseFloat(s.temp)>35||s.doorOpen?"status-warning":"status-normal",O=s=>s.smokeAlarm?"烟感告警":s.waterAlarm?"水浸告警":parseFloat(s.temp)>35?"高温预��":s.doorOpen?"门禁开启":"正常运行",V=s=>parseFloat(s)>35?"text-danger":"text-safe",D=s=>{F.push(`/room/detail/${s}`)};return(s,e)=>{const r=g("el-input"),n=g("el-icon"),i=g("el-tooltip");return u(),h("div",I,[t("div",Q,[t("div",U,[e[4]||(e[4]=t("div",{class:"stat-item"},[t("div",{class:"label"},"监控站点"),t("div",{class:"value highlight"},"100")],-1)),t("div",W,[e[1]||(e[1]=t("div",{class:"label"},"异常温度",-1)),t("div",G,d(b.value),1)]),t("div",J,[e[2]||(e[2]=t("div",{class:"label"},"水浸告警",-1)),t("div",K,d(w.value),1)]),t("div",P,[e[3]||(e[3]=t("div",{class:"label"},"安防入侵",-1)),t("div",X,d(M.value),1)])]),t("div",Y,[l(r,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),placeholder:"搜索配电室...","prefix-icon":c(T),clearable:""},null,8,["modelValue","prefix-icon"])])]),t("div",Z,[t("div",tt,[(u(!0),h($,null,E(C.value,a=>(u(),h("div",{key:a.id,class:f(["env-unit-card module-card",B(a)]),onClick:k=>D(a.id)},[t("div",et,[t("div",at,d(a.name),1),t("div",lt,[e[5]||(e[5]=t("span",{class:"status-dot"},null,-1)),L(" "+d(O(a)),1)])]),t("div",nt,[t("div",ot,[t("div",rt,[l(n,null,{default:o(()=>[l(c(N))]),_:1}),t("span",{class:f(["val",V(a.temp)])},d(a.temp)+"°C",3)]),t("div",it,[l(n,null,{default:o(()=>[l(c(R))]),_:1}),t("span",dt,d(a.humidity)+"%",1)])]),t("div",ct,[a.smokeAlarm?(u(),_(i,{key:1,content:"烟感报警!"},{default:o(()=>[l(n,{class:"danger pulse"},{default:o(()=>[l(c(A))]),_:1})]),_:1})):(u(),_(i,{key:0,content:"烟感正常"},{default:o(()=>[l(n,{class:"safe"},{default:o(()=>[l(c(A))]),_:1})]),_:1})),a.waterAlarm?(u(),_(i,{key:3,content:"水浸报警!"},{default:o(()=>[l(n,{class:"danger pulse"},{default:o(()=>[l(c(y))]),_:1})]),_:1})):(u(),_(i,{key:2,content:"无水浸"},{default:o(()=>[l(n,{class:"safe"},{default:o(()=>[l(c(y))]),_:1})]),_:1})),a.doorOpen?(u(),_(i,{key:5,content:"非法开门!"},{default:o(()=>[l(n,{class:"warning"},{default:o(()=>[l(c(q))]),_:1})]),_:1})):(u(),_(i,{key:4,content:"门禁正常"},{default:o(()=>[l(n,{class:"safe"},{default:o(()=>[l(c(j))]),_:1})]),_:1}))])]),t("div",ut,[t("div",_t,[e[6]||(e[6]=t("span",{class:"label"},"SF6:",-1)),t("span",{class:f(["val",a.sf6>1e3?"danger":"safe"])},d(a.sf6)+" ppm",3)]),t("div",mt,[e[7]||(e[7]=t("span",{class:"label"},"O2:",-1)),t("span",{class:f(["val",parseFloat(a.o2)<18?"danger":"safe"])},d(a.o2)+"%",3)])]),e[8]||(e[8]=t("div",{class:"card-corner tl"},null,-1)),e[9]||(e[9]=t("div",{class:"card-corner br"},null,-1))],10,st))),128))])])])}}}),gt=H(pt,[["__scopeId","data-v-829933aa"]]);export{gt as default};
