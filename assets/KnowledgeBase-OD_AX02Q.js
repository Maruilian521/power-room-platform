import{d as F,r as k,m as V,c as u,b as e,j as s,l as o,A as p,F as w,i as C,t as d,E as g,a4 as E,af as P,aI as R,aJ as G,n as K,C as v,D as I,B as _,k as M,y as j,f as a,_ as H}from"./index-BFAmLiXm.js";const W={class:"page-container knowledge-base"},Z={class:"grid grid-cols-4 gap-4 mb-4"},J={class:"stat-card-item primary"},Y={class:"icon-wrapper"},q={class:"stat-card-item warning"},Q={class:"icon-wrapper"},X={class:"stat-card-item success"},ee={class:"icon-wrapper"},te={class:"stat-card-item info"},se={class:"icon-wrapper"},le={class:"flex flex-1 overflow-hidden gap-4"},oe={class:"module-card w-64 flex flex-col p-0"},ae={class:"flex-1 overflow-y-auto py-2"},ne=["onClick"],ie={class:"count"},de={class:"module-card flex-1 flex flex-col"},re={class:"module-header"},ce={class:"header-left"},ue={class:"text-lg font-bold text-bright"},pe={class:"text-sm text-sub ml-2 font-rajdhani"},_e={class:"header-right flex gap-3"},fe={class:"flex-1 overflow-y-auto p-4"},ve={key:0,class:"flex flex-col gap-2"},me=["onClick"],be={class:"font-bold"},ge={class:"flex gap-1"},ye={key:1,class:"grid grid-cols-4 gap-4"},xe=["onClick"],he={class:"card-cover"},ke={class:"icon-placeholder"},we={class:"overlay"},Ce={class:"card-body"},Ne=["title"],De={class:"meta"},Ae={class:"tags mt-2"},Ve={class:"p-4 border-t border-white/10 flex justify-end"},Be={class:"doc-content-mock p-4 bg-black/20 min-h-[400px] font-mono text-sm"},Le={class:"p-4 border border-dashed border-white/20 rounded"},Ee={class:"mb-4 leading-relaxed"},Ie=F({__name:"KnowledgeBase",setup(Se){const f=k("defects"),y=k(""),x=k(!1),N=k(null),D=[{id:"defects",label:"典型缺陷库",subLabel:"DEFECT DATABASE",icon:"WarningFilled",count:342},{id:"handbook",label:"故障处理手册",subLabel:"FAULT HANDBOOK",icon:"Notebook",count:89},{id:"sop",label:"操作规程库 (SOP)",subLabel:"SOP LIBRARY",icon:"Guide",count:156},{id:"manuals",label:"设备资料库",subLabel:"DEVICE MANUALS",icon:"Monitor",count:661}],S=V(()=>D.find(n=>n.id===f.value)?.label),O=V(()=>D.find(n=>n.id===f.value)?.subLabel),h=n=>Array.from({length:12},(r,i)=>n==="defects"?{id:i,title:`10kV 开关柜局部放电异常案例分析 #${i+100}`,code:`DEF-2023-${i+1}`,tags:["开关柜","局放","绝缘"],author:"专家组",date:"2023-11-15",type:"pdf",isNew:i<2}:n==="sop"?{id:i,title:`变压器停送电标准操作票 (SOP) #${i+10}`,code:`SOP-TR-${i+1}`,tags:["变压器","倒闸操作"],author:"安监部",date:"2023-10-01",type:"doc",isNew:!1}:{id:i,title:`ABB UniGear ZS1 维护手册 V${i}.0`,size:"12.5 MB",tags:["ABB","维护","高压"],date:"2022-05-20",icon:"Notebook"}),T={defects:h("defects"),handbook:h("handbook"),sop:h("sop"),manuals:h("manuals")},B=V(()=>{const n=T[f.value];return y.value?n.filter(t=>t.title.includes(y.value)||t.tags.includes(y.value)):n}),L=n=>{N.value=n,x.value=!0};return(n,t)=>{const r=p("el-icon"),i=p("el-input"),m=p("el-button"),A=p("el-tag"),b=p("el-table-column"),$=p("el-table"),U=p("el-pagination"),z=p("el-dialog");return a(),u("div",W,[e("div",Z,[e("div",J,[e("div",Y,[s(r,null,{default:o(()=>[s(g(E))]),_:1})]),t[3]||(t[3]=e("div",{class:"info"},[e("div",{class:"label"},"文档总数"),e("div",{class:"value"},"1,248")],-1))]),e("div",q,[e("div",Q,[s(r,null,{default:o(()=>[s(g(P))]),_:1})]),t[4]||(t[4]=e("div",{class:"info"},[e("div",{class:"label"},"典型缺陷案例"),e("div",{class:"value"},"342")],-1))]),e("div",X,[e("div",ee,[s(r,null,{default:o(()=>[s(g(R))]),_:1})]),t[5]||(t[5]=e("div",{class:"info"},[e("div",{class:"label"},"SOP 操作规程"),e("div",{class:"value"},"156")],-1))]),e("div",te,[e("div",se,[s(r,null,{default:o(()=>[s(g(G))]),_:1})]),t[6]||(t[6]=e("div",{class:"info"},[e("div",{class:"label"},"本周更新"),e("div",{class:"value"},"+12")],-1))])]),e("div",le,[e("div",oe,[t[7]||(t[7]=e("div",{class:"sidebar-header p-4 border-b border-white/10"},[e("span",{class:"font-orbitron text-lg text-primary"},"DATA ARCHIVES")],-1)),e("div",ae,[(a(),u(w,null,C(D,l=>e("div",{key:l.id,class:K(["nav-item",{active:f.value===l.id}]),onClick:c=>f.value=l.id},[s(r,null,{default:o(()=>[(a(),v(I(l.icon)))]),_:2},1024),e("span",null,d(l.label),1),e("span",ie,d(l.count),1)],10,ne)),64))])]),e("div",de,[e("div",re,[e("div",ce,[e("span",ue,d(S.value),1),e("span",pe,d(O.value),1)]),e("div",_e,[s(i,{modelValue:y.value,"onUpdate:modelValue":t[0]||(t[0]=l=>y.value=l),placeholder:"搜索知识库...","prefix-icon":"Search",class:"sc2-input w-64"},null,8,["modelValue"]),s(m,{type:"primary",icon:"Upload"},{default:o(()=>[...t[8]||(t[8]=[_("上传文档",-1)])]),_:1})])]),e("div",fe,[f.value==="defects"||f.value==="sop"?(a(),u("div",ve,[s($,{data:B.value,class:"sc2-table",stripe:""},{default:o(()=>[s(b,{prop:"title",label:"标题","min-width":"200"},{default:o(({row:l})=>[e("div",{class:"flex items-center gap-2 cursor-pointer hover:text-primary",onClick:c=>L(l)},[l.type==="pdf"?(a(),v(r,{key:0,class:"text-danger"},{default:o(()=>[s(g(j))]),_:1})):(a(),v(r,{key:1,class:"text-primary"},{default:o(()=>[s(g(E))]),_:1})),e("span",be,d(l.title),1),l.isNew?(a(),v(A,{key:2,size:"small",effect:"dark",type:"danger"},{default:o(()=>[...t[9]||(t[9]=[_("NEW",-1)])]),_:1})):M("",!0)],8,me)]),_:1}),s(b,{prop:"code",label:"编号",width:"140"}),s(b,{prop:"tags",label:"标签",width:"200"},{default:o(({row:l})=>[e("div",ge,[(a(!0),u(w,null,C(l.tags,c=>(a(),v(A,{key:c,size:"small",class:"sc2-tag"},{default:o(()=>[_(d(c),1)]),_:2},1024))),128))])]),_:1}),s(b,{prop:"author",label:"作者",width:"100"}),s(b,{prop:"date",label:"更新日期",width:"120"}),s(b,{label:"操作",width:"120",fixed:"right"},{default:o(()=>[s(m,{link:"",type:"primary",icon:"View"},{default:o(()=>[...t[10]||(t[10]=[_("查看",-1)])]),_:1}),s(m,{link:"",type:"primary",icon:"Download"},{default:o(()=>[...t[11]||(t[11]=[_("下载",-1)])]),_:1})]),_:1})]),_:1},8,["data"])])):(a(),u("div",ye,[(a(!0),u(w,null,C(B.value,l=>(a(),u("div",{key:l.id,class:"doc-card",onClick:c=>L(l)},[e("div",he,[e("div",ke,[s(r,{size:40},{default:o(()=>[(a(),v(I(l.icon||"Document")))]),_:2},1024)]),e("div",we,[s(m,{type:"primary",circle:"",icon:"View"})])]),e("div",Ce,[e("div",{class:"title",title:l.title},d(l.title),9,Ne),e("div",De,[e("span",null,d(l.size),1),e("span",null,d(l.date),1)]),e("div",Ae,[(a(!0),u(w,null,C(l.tags.slice(0,2),c=>(a(),v(A,{key:c,size:"small",type:"info"},{default:o(()=>[_(d(c),1)]),_:2},1024))),128))])])],8,xe))),128))]))]),e("div",Ve,[s(U,{layout:"total, prev, pager, next",total:100,background:""})])])]),s(z,{modelValue:x.value,"onUpdate:modelValue":t[2]||(t[2]=l=>x.value=l),title:N.value?.title,width:"800px",class:"sc2-dialog"},{footer:o(()=>[s(m,{onClick:t[1]||(t[1]=l=>x.value=!1)},{default:o(()=>[...t[17]||(t[17]=[_("关闭",-1)])]),_:1}),s(m,{type:"primary",icon:"Download"},{default:o(()=>[...t[18]||(t[18]=[_("下载源文件",-1)])]),_:1})]),default:o(()=>[e("div",Be,[t[15]||(t[15]=e("p",{class:"text-primary mb-4"},"> INITIALIZING NEURAL LINK...",-1)),t[16]||(t[16]=e("p",{class:"text-text-main mb-4"},"> LOADING DOCUMENT CONTENT...",-1)),e("div",Le,[t[12]||(t[12]=e("h3",{class:"text-lg font-bold mb-2"},"1. 概述 (Overview)",-1)),e("p",Ee," 本文档详细描述了 "+d(N.value?.title)+" 的操作规范与故障处理流程。 所有的操作���须严格遵守《电力安全工作规程》。 ",1),t[13]||(t[13]=e("h3",{class:"text-lg font-bold mb-2"},"2. 核心步骤 (Procedures)",-1)),t[14]||(t[14]=e("ul",{class:"list-disc pl-5 space-y-2"},[e("li",null,"检查设备状态指示灯是否正常。"),e("li",null,"确认主回路已断开，并挂好接地线。"),e("li",null,"使用红外热像仪进行温度复核。")],-1))])])]),_:1},8,["modelValue","title"])])}}}),Te=H(Ie,[["__scopeId","data-v-a2078a5f"]]);export{Te as default};
